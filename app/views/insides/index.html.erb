
  <!--Navigation bar-->
  <nav class="navbar navbar-dark bg-inverse navbar-fixed-top">
    <div class="container">
      <a class="navbar-brand" href="insides">
        WesFund
      </a>
      <ul class="nav navbar-nav pull-xs-right">
        <li class="nav-item">
          Hello, <strong><%= current_user.name %></strong>!
          <a class="nav-link"><%= link_to "Sign out", signout_path, id: "sign_out" %></a>
        </li>
      </ul>
    </div>
  </nav>

  <!--Side filters and search list-->
  <div class="container-fluid">
    <div class="container">
      <div class="row">
        <div class="col-sm-3">

            <p>
              <%= params[:search] %>,
              <%= params[:semester] %>,
              <%= params[:category] %>,
              <%= params[:department] %>
            </p>
          <!--Clear Params-->
            <%= link_to 'Reset', insides_path(:search => nil, :semester => nil, :category => nil, :department => nil), class: "btn btn-sm" %>
          <!--Search-->
          <%= form_tag(insides_path, :method => "get", class:"input-group", id: "search-form") do %>
            <%= text_field_tag :search, params[:search], placeholder: "Search for...", class:"form-control" %>
            <span class="input-group-btn">
              <%= submit_tag "Go!", :name => nil, class: "btn btn-sm btn-secondary"%>
            </span>
          <% end %>

          <!--Filter-->
          <div id="accordion" role="tablist" aria-multiselectable="true">
            <div class="card">
              <div class="card-header" role="tab" id="headingOne">
                <h6 class="mb-0">
                  <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    Department
                  </a>
                </h6>
              </div>
              <div id="collapseOne" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                  <div class="form-check">
                    <label class="form-check-label">
                      <input class="form-check-input" type="checkbox" value="">
                      <%= link_to 'American Studies', insides_path(:semester => params[:semester], :category => params[:category], :department => 'American Studies')%>
                    </label>
                  </div>
                  <div class="form-check">
                    <label class="form-check-label">
                      <input class="form-check-input" type="checkbox" value="" >
                      <%= link_to 'African American Studies', insides_path(:semester => params[:semester], :category => params[:category], :department => 'African American Studies')%>
                    </label>
                  </div>
                  <div class="form-check">
                    <label class="form-check-label">
                      <input class="form-check-input" type="checkbox" value="" >
                      <%= link_to 'College of Integrated Sciences', insides_path(:semester => params[:semester], :category => params[:category], :department => 'CIS')%>
                    </label>
                  </div>
                  <div class="form-check">
                    <label class="form-check-label">
                      <input class="form-check-input" type="checkbox" value="" >
                      <%= link_to 'English', insides_path(:semester => params[:semester], :category => params[:category], :department => 'English')%>
                    </label>
                  </div>
                  <div class="form-check">
                    <label class="form-check-label">
                      <input class="form-check-input" type="checkbox" value="">
                      <%= link_to 'Government', insides_path(:semester => params[:semester], :category => params[:category], :department => 'Government Department')%>
                    </label>
                  </div>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" role="tab" id="headingTwo">
                <h6 class="mb-0">
                  <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="true" aria-controls="collapseOne">
                    Eligibility
                  </a>
                </h6>
              </div>
              <div id="collapseTwo" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                  <div class="form-check">
                    <label class="form-check-label">
                      <input class="form-check-input" type="checkbox" value="" >
                        <label>GPA</label>
                      <input class="form-control" type="number" />
                    </label>
                  </div>
                  <div class="form-check">
                    <label class="form-check-label">
                      <input class="form-check-input" type="checkbox" value="" >
                        <label>Major</label>
                      <input class="form-control" type="text" />
                    </label>
                  </div>
                  <div class="form-check">
                    <label class="form-check-label">
                      <input class="form-check-input" type="checkbox" value="" >
                        <select class="custom-select mb-2 mr-sm-2 mb-sm-0" id="inlineFormCustomSelect">
                          <option selected>Class Year</option>
                          <option value="2017">2017</option>
                          <option value="2018">2018</option>
                          <option value="2019">2019</option>
                          <option value="2020">2020</option>
                        </select>
                    </label>
                  </div>
                  <div class="form-check">
                    <label class="form-check-label">
                      <input class="form-check-input" type="checkbox" value="" >
                        <label>US Citizen</label>
                    </label>
                  </div>
                </div>
              </div>
            </div>

            <div class="dropdown m-y-1">
              <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Category
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <%= link_to 'Scholarship', insides_path(:category => 'Scholarship', :semester => params[:semester], :department => params[:department]), class: 'dropdown-item' %>
                  <%= link_to 'Internship', insides_path(:category => 'Internship',  :semester => params[:semester], :department => params[:department]), class:'dropdown-item'%>
                  <%= link_to 'Grant', insides_path(:category => 'Grant',  :semester => params[:semester], :department => params[:department]), class:'dropdown-item'%>
                  <%= link_to 'Research', insides_path(:category => 'Research',  :semester => params[:semester], :department => params[:department]), class:'dropdown-item'%>
                </div>
              </div>
            </div>

            <div class="dropdown">
              <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Semester
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <%= link_to 'Fall', insides_path(:semester => 'Fall', :category => params[:category], :department => params[:department]), class:'dropdown-item'%>
                <%= link_to 'Winter', insides_path(:semester => 'Winter', :category => params[:category], :department => params[:department]), class:'dropdown-item'%>
                <%= link_to 'Spring', insides_path(:semester => 'Spring', :category => params[:category], :department => params[:department]), class:'dropdown-item'%>
                <%= link_to 'Summer', insides_path(:semester => 'Summer', :category => params[:category], :department => params[:department]), class:'dropdown-item'%>
              </div>
            </div>

            <div class="dropdown m-y-1">
              <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Location
              </button>
            </div>

            <div class="dropdown m-y-1">
              <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Eligibility
              </button>
            </div>
          </div>
        </div>

        <div class="col-sm-9">
          <% if current_user.name == 'Mario See' %>
            <%= link_to 'New Inside', new_inside_path %>
          <% end %>
          <h1> Available Opportunities</h1>
          <table class="table">
            <thead class="thead-inverse">
              <tr>
                <th><%= link_to 'Name', insides_path(:sorting => 'name')%></th>
                <th><%= link_to 'Deadline', insides_path(:sorting => 'deadline')%></th>
                <th><%= link_to 'Category', insides_path(:sorting => 'category')%></th>
                <th><%= link_to 'Department', insides_path(:sorting => 'department')%></th>
                <th><%= link_to 'Semester', insides_path(:sorting => 'semester')%></th>
                <th><%= link_to 'Years', insides_path(:sorting => 'year')%></th>
                <th>Information</th>
                <th>Favorite</th>
              </tr>
            </thead>
            <tbody>
              <% if @insides.blank? %>
                <tr>
                  <td>
                  We found no opportunities that matched your search!
                  </td>
                </tr>
              <% else %>
                <% @insides.each do |inside| %>
                  <tr>
                    <td><%= inside.name %></td>
                    <td><%= inside.deadline %></td>
                    <td><%= inside.category %></td>
                    <td><%= inside.department %></td>
                    <td><%= inside.semester %></td>
                    <td>
                      <% inside.year_ids.each do |id| %>
                        <%= Year.find(id).year %>
                      <% end %>
                    </td>
                    <td>
                      <%= link_to 'Show more info', inside %>
                    </td>
                    <td>
                      <% if current_user %>
                        <%= link_to "Favorite",   favorite_inside_path(id: inside.id, type: "favorite"), method: :put %>
                      <% end %>
                    </td>
                    <% if current_user.name == 'Mario' %>
                      <td><%= link_to 'Edit', edit_inside_path(inside) %></td>
                      <td><%= link_to 'Destroy', inside, method: :delete, data: { confirm: 'Are you sure?' } %></td>
                    <% end %>
                  </tr>
                  <!-- <tr>
                    <td>
                      <%= inside.description %>
                    </td>
                  </tr> -->
                <% end %>
              <% end %>

            </tbody>
          </table>

          <h1> Your Favorites</h1>
          <table class="table">
            <thead class="thead-inverse">
              <tr>
                <th><%= link_to 'Name', insides_path(:sorting => 'name')%></th>
                <th><%= link_to 'Deadline', insides_path(:sorting => 'deadline')%></th>
                <th><%= link_to 'Category', insides_path(:sorting => 'category')%></th>
                <th><%= link_to 'Department', insides_path(:sorting => 'department')%></th>
                <th><%= link_to 'Semester', insides_path(:sorting => 'semester')%></th>
                <th>Unfavorite</th>
              </tr>
            </thead>
            <tbody>
              <% if current_user.favorites.blank? %>
                <tr>
                  <td>
                  You have favorited no opportunities yet.
                  </td>
                </tr>
              <% else %>
                <% current_user.favorites.each do |fave| %>
                  <tr>
                    <td><%= fave.name %></td>
                    <td><%= fave.deadline %></td>
                    <td><%= fave.category %></td>
                    <td><%= fave.department %></td>
                    <td><%= fave.semester %></td>
                    <td><% if current_user %>
                      <%= link_to "Unfavorite", favorite_inside_path(id: fave.id, type: "unfavorite"), method: :put %>
                      <% end %></td>
                  </tr>
                <% end %>
              <% end %>
              </tbody>
            </table>
        </div>
      </div>
    </div>
  </div>






    <!--side filters-->


      <!--search results-->
      <div class="col-xs-9">

      </div>




    </div>
  </div>
